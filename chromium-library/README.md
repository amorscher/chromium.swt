# Build native library and subprocess executable

## Prerequisites

- Rust (https://www.rust-lang.org/en-US/install.html)

- Download CEF binary distrubution (minimal is enough for release builds), unzip it and rename to ./cef_[os]/ (Where [os]=linux|osx|winows)

## Build

- `cargo build --lib --release`
- `cargo build --bin chromium_subp --release`
- `strip target/release/libchromium_swt.so target/release/chromium_subp`
- Copy library and binary from target/release/ to corresponding eclipse fragment

## Bindings

CEF bindings for Rust and Java are autogenerated. Types to generate are configured on build.rs and cef_*.h header files.

## Generate Rust CEF Bindings

- `cargo build --features gen --release`

## Generate Java CEF Bindings

- `cargo build --features genJava --release`
- copy target/CEF.java to org.eclipse.swt.chromium/src/org/eclipse/swt/internal/chromium/CEF.java
